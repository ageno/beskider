<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TabNav — Apple-style platter demo</title>
  <link rel="stylesheet" href="tabnav.css">
  <style>
    /* demo page styling only */
    *,*::before,*::after{box-sizing:border-box;margin:0}
    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI",
                   Roboto, Helvetica, Arial, sans-serif;
      background: #fff;
      color: #1d1d1f;
      padding: 3rem 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 3rem;
      align-items: center;
    }
    h1 { font-size: 1.5rem; font-weight: 600; }
    h2 { font-size: 1rem; font-weight: 600; color: #6e6e73; margin-bottom: 0.75rem; }
    .demo { width: 100%; max-width: 640px; display: flex; flex-direction: column; gap: 1.5rem; }
    .panel {
      padding: 2rem;
      border-radius: 1rem;
      background: #f5f5f7;
      text-align: center;
      color: #6e6e73;
      display: none;
    }
    .panel.is-active { display: block; }

    /* dark mode toggle for demo */
    .dark-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      padding: 0.5rem 1rem;
      border-radius: 9999px;
      border: 1px solid #d2d2d7;
      background: #fff;
      cursor: pointer;
      font-size: 0.75rem;
    }
    html[data-theme="dark"] {
      background: #000;
      color: #f5f5f7;
    }
    html[data-theme="dark"] .dark-toggle {
      background: #1d1d1f;
      border-color: #424245;
      color: #f5f5f7;
    }
    html[data-theme="dark"] .panel {
      background: #1d1d1f;
      color: #86868b;
    }
  </style>
</head>
<body>

<button class="dark-toggle" onclick="document.documentElement.toggleAttribute('data-theme')||document.documentElement.setAttribute('data-theme',document.documentElement.getAttribute('data-theme')==='dark'?'':'dark')">
  Toggle Dark Mode
</button>

<h1>TabNav — Apple-style platter tabs</h1>

<!-- ============================================================
     DEMO 1 — few tabs (no overflow)
     ============================================================ -->
<div class="demo">
  <h2>Few tabs (fits without scrolling)</h2>

  <div class="tabnav-platter">
    <!-- left arrow overlay -->
    <div class="tabnav-arrow is-left">
      <button type="button" class="tabnav-arrow-btn" aria-label="Przewiń w lewo" tabindex="-1">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M8 10L4 6l4-4"/>
        </svg>
      </button>
    </div>

    <div class="tabnav-viewport">
      <div class="tabnav-scroller" role="tablist" aria-label="Kategorie produktów">
        <button class="tabnav-tab is-active" role="tab" aria-selected="true"
                tabindex="0" id="demo1-tab-all" aria-controls="demo1-panel-all">
          Wszystkie produkty
        </button>
        <button class="tabnav-tab" role="tab" aria-selected="false"
                tabindex="-1" id="demo1-tab-laptops" aria-controls="demo1-panel-laptops">
          Laptopy
        </button>
        <button class="tabnav-tab" role="tab" aria-selected="false"
                tabindex="-1" id="demo1-tab-desktops" aria-controls="demo1-panel-desktops">
          Desktopy
        </button>
        <button class="tabnav-tab" role="tab" aria-selected="false"
                tabindex="-1" id="demo1-tab-monitors" aria-controls="demo1-panel-monitors">
          Monitory
        </button>
      </div>
    </div>

    <!-- right arrow overlay -->
    <div class="tabnav-arrow is-right">
      <button type="button" class="tabnav-arrow-btn" aria-label="Przewiń w prawo" tabindex="-1">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M4 2l4 4-4 4"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="panel is-active" id="demo1-panel-all" role="tabpanel" aria-labelledby="demo1-tab-all">
    Wszystkie produkty
  </div>
  <div class="panel" id="demo1-panel-laptops" role="tabpanel" aria-labelledby="demo1-tab-laptops">
    Laptopy
  </div>
  <div class="panel" id="demo1-panel-desktops" role="tabpanel" aria-labelledby="demo1-tab-desktops">
    Desktopy
  </div>
  <div class="panel" id="demo1-panel-monitors" role="tabpanel" aria-labelledby="demo1-tab-monitors">
    Monitory
  </div>
</div>

<!-- ============================================================
     DEMO 2 — many tabs (overflow → arrows visible)
     ============================================================ -->
<div class="demo">
  <h2>Many tabs (horizontal overflow → arrows appear)</h2>

  <div class="tabnav-platter">
    <div class="tabnav-arrow is-left">
      <button type="button" class="tabnav-arrow-btn" aria-label="Przewiń w lewo" tabindex="-1">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M8 10L4 6l4-4"/>
        </svg>
      </button>
    </div>

    <div class="tabnav-viewport">
      <div class="tabnav-scroller" role="tablist" aria-label="Lokalizacje">
        <button class="tabnav-tab is-active" role="tab" aria-selected="true" tabindex="0">Wszystko</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Rowery eMTB</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Rowery Szosowe</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Narty biegowe</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Snowboard freestyle</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Biegi narciarskie</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Skialpinizm</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Rakiety śnieżne</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Inne</button>
      </div>
    </div>

    <div class="tabnav-arrow is-right">
      <button type="button" class="tabnav-arrow-btn" aria-label="Przewiń w prawo" tabindex="-1">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M4 2l4 4-4 4"/>
        </svg>
      </button>
    </div>
  </div>
</div>

<!-- ============================================================
     DEMO 3 — disabled tabs
     ============================================================ -->
<div class="demo">
  <h2>With disabled tabs</h2>

  <div class="tabnav-platter">
    <div class="tabnav-arrow is-left">
      <button type="button" class="tabnav-arrow-btn" aria-label="Przewiń w lewo" tabindex="-1">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M8 10L4 6l4-4"/>
        </svg>
      </button>
    </div>

    <div class="tabnav-viewport">
      <div class="tabnav-scroller" role="tablist" aria-label="Sprzęt">
        <button class="tabnav-tab is-active" role="tab" aria-selected="true" tabindex="0">Wszystko</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">eMTB</button>
        <button class="tabnav-tab" role="tab" aria-selected="false" tabindex="-1">Szosowe</button>
        <button class="tabnav-tab" role="tab" aria-disabled="true" disabled tabindex="-1">Narty (soon)</button>
        <button class="tabnav-tab" role="tab" aria-disabled="true" disabled tabindex="-1">Snowboard (soon)</button>
        <button class="tabnav-tab" role="tab" aria-disabled="true" disabled tabindex="-1">Inne (soon)</button>
      </div>
    </div>

    <div class="tabnav-arrow is-right">
      <button type="button" class="tabnav-arrow-btn" aria-label="Przewiń w prawo" tabindex="-1">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M4 2l4 4-4 4"/>
        </svg>
      </button>
    </div>
  </div>
</div>

<script src="tabnav.js"></script>
<script>
  /* Demo: simple tab-switching logic (not part of the component) */
  document.querySelectorAll('.tabnav-scroller').forEach(function (scroller) {
    scroller.addEventListener('click', function (e) {
      var tab = e.target.closest('.tabnav-tab');
      if (!tab || tab.disabled) return;

      /* update tab states */
      scroller.querySelectorAll('.tabnav-tab').forEach(function (t) {
        var isActive = t === tab;
        t.classList.toggle('is-active', isActive);
        if (t.hasAttribute('aria-selected')) t.setAttribute('aria-selected', String(isActive));
        t.setAttribute('tabindex', isActive ? '0' : '-1');
      });

      /* show matching panel (if wired up) */
      var panelId = tab.getAttribute('aria-controls');
      if (panelId) {
        var panels = tab.closest('.demo').querySelectorAll('.panel');
        panels.forEach(function (p) {
          p.classList.toggle('is-active', p.id === panelId);
        });
      }

      /* scroll active tab into view */
      var platter = tab.closest('.tabnav-platter');
      if (platter && platter._tabnav) {
        platter._tabnav.scrollTabIntoView(tab);
      }
    });
  });
</script>

</body>
</html>
